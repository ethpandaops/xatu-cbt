syntax = "proto3";

package cbt;

import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";
option go_package = "github.com/ethpandaops/xatu-cbt/pkg/proto/clickhouse";

// Common types used across all generated services

// UInt32Filter represents filtering options for non-nullable uint32 values
message UInt32Filter {
  oneof filter {
    uint32 eq = 1;                 // Equal to value
    uint32 ne = 2;                 // Not equal to value
    uint32 lt = 3;                 // Less than value
    uint32 lte = 4;                // Less than or equal to value
    uint32 gt = 5;                 // Greater than value
    uint32 gte = 6;                // Greater than or equal to value
    UInt32Range between = 7;       // Between min and max (inclusive)
    UInt32List in = 8;             // In list of values
    UInt32List not_in = 9;         // Not in list of values
  }
}

// NullableUInt32Filter represents filtering options for nullable uint32 values
message NullableUInt32Filter {
  oneof filter {
    uint32 eq = 1;                 // Equal to value
    uint32 ne = 2;                 // Not equal to value
    uint32 lt = 3;                 // Less than value
    uint32 lte = 4;                // Less than or equal to value
    uint32 gt = 5;                 // Greater than value
    uint32 gte = 6;                // Greater than or equal to value
    UInt32Range between = 7;       // Between min and max (inclusive)
    UInt32List in = 8;             // In list of values
    UInt32List not_in = 9;         // Not in list of values
    google.protobuf.Empty is_null = 10;     // IS NULL check
    google.protobuf.Empty is_not_null = 11; // IS NOT NULL check
  }
}

// UInt32Range represents a range of uint32 values
message UInt32Range {
  uint32 min = 1;
  google.protobuf.UInt32Value max = 2; // If not set, matches exact value (min)
}

// UInt32List represents a list of uint32 values
message UInt32List {
  repeated uint32 values = 1;
}

// UInt64Filter represents filtering options for non-nullable uint64 values
message UInt64Filter {
  oneof filter {
    uint64 eq = 1;                 // Equal to value
    uint64 ne = 2;                 // Not equal to value
    uint64 lt = 3;                 // Less than value
    uint64 lte = 4;                // Less than or equal to value
    uint64 gt = 5;                 // Greater than value
    uint64 gte = 6;                // Greater than or equal to value
    UInt64Range between = 7;       // Between min and max (inclusive)
    UInt64List in = 8;             // In list of values
    UInt64List not_in = 9;         // Not in list of values
  }
}

// NullableUInt64Filter represents filtering options for nullable uint64 values
message NullableUInt64Filter {
  oneof filter {
    uint64 eq = 1;                 // Equal to value
    uint64 ne = 2;                 // Not equal to value
    uint64 lt = 3;                 // Less than value
    uint64 lte = 4;                // Less than or equal to value
    uint64 gt = 5;                 // Greater than value
    uint64 gte = 6;                // Greater than or equal to value
    UInt64Range between = 7;       // Between min and max (inclusive)
    UInt64List in = 8;             // In list of values
    UInt64List not_in = 9;         // Not in list of values
    google.protobuf.Empty is_null = 10;     // IS NULL check
    google.protobuf.Empty is_not_null = 11; // IS NOT NULL check
  }
}

// UInt64Range represents a range of uint64 values
message UInt64Range {
  uint64 min = 1;
  google.protobuf.UInt64Value max = 2;
}

// UInt64List represents a list of uint64 values
message UInt64List {
  repeated uint64 values = 1;
}

// Int32Filter represents filtering options for non-nullable int32 values
message Int32Filter {
  oneof filter {
    int32 eq = 1;                  // Equal to value
    int32 ne = 2;                  // Not equal to value
    int32 lt = 3;                  // Less than value
    int32 lte = 4;                 // Less than or equal to value
    int32 gt = 5;                  // Greater than value
    int32 gte = 6;                 // Greater than or equal to value
    Int32Range between = 7;        // Between min and max (inclusive)
    Int32List in = 8;              // In list of values
    Int32List not_in = 9;          // Not in list of values
  }
}

// NullableInt32Filter represents filtering options for nullable int32 values
message NullableInt32Filter {
  oneof filter {
    int32 eq = 1;                  // Equal to value
    int32 ne = 2;                  // Not equal to value
    int32 lt = 3;                  // Less than value
    int32 lte = 4;                 // Less than or equal to value
    int32 gt = 5;                  // Greater than value
    int32 gte = 6;                 // Greater than or equal to value
    Int32Range between = 7;        // Between min and max (inclusive)
    Int32List in = 8;              // In list of values
    Int32List not_in = 9;          // Not in list of values
    google.protobuf.Empty is_null = 10;     // IS NULL check
    google.protobuf.Empty is_not_null = 11; // IS NOT NULL check
  }
}

// Int32Range represents a range of int32 values
message Int32Range {
  int32 min = 1;
  google.protobuf.Int32Value max = 2;
}

// Int32List represents a list of int32 values
message Int32List {
  repeated int32 values = 1;
}

// Int64Filter represents filtering options for non-nullable int64 values
message Int64Filter {
  oneof filter {
    int64 eq = 1;                  // Equal to value
    int64 ne = 2;                  // Not equal to value
    int64 lt = 3;                  // Less than value
    int64 lte = 4;                 // Less than or equal to value
    int64 gt = 5;                  // Greater than value
    int64 gte = 6;                 // Greater than or equal to value
    Int64Range between = 7;        // Between min and max (inclusive)
    Int64List in = 8;              // In list of values
    Int64List not_in = 9;          // Not in list of values
  }
}

// NullableInt64Filter represents filtering options for nullable int64 values
message NullableInt64Filter {
  oneof filter {
    int64 eq = 1;                  // Equal to value
    int64 ne = 2;                  // Not equal to value
    int64 lt = 3;                  // Less than value
    int64 lte = 4;                 // Less than or equal to value
    int64 gt = 5;                  // Greater than value
    int64 gte = 6;                 // Greater than or equal to value
    Int64Range between = 7;        // Between min and max (inclusive)
    Int64List in = 8;              // In list of values
    Int64List not_in = 9;          // Not in list of values
    google.protobuf.Empty is_null = 10;     // IS NULL check
    google.protobuf.Empty is_not_null = 11; // IS NOT NULL check
  }
}

// Int64Range represents a range of int64 values
message Int64Range {
  int64 min = 1;
  google.protobuf.Int64Value max = 2;
}

// Int64List represents a list of int64 values
message Int64List {
  repeated int64 values = 1;
}

// StringFilter represents filtering options for non-nullable string values
message StringFilter {
  oneof filter {
    string eq = 1;                 // Equal to value
    string ne = 2;                 // Not equal to value
    string contains = 3;           // Contains substring (SQL LIKE '%value%')
    string starts_with = 4;        // Starts with prefix (SQL LIKE 'value%')
    string ends_with = 5;          // Ends with suffix (SQL LIKE '%value')
    string like = 6;               // SQL LIKE pattern (% and _ wildcards)
    string not_like = 7;           // SQL NOT LIKE pattern
    string regex = 8;              // Regular expression match
    string not_regex = 9;          // Regular expression not match
    StringList in = 10;            // In list of values
    StringList not_in = 11;        // Not in list of values
  }
}

// NullableStringFilter represents filtering options for nullable string values
message NullableStringFilter {
  oneof filter {
    string eq = 1;                 // Equal to value
    string ne = 2;                 // Not equal to value
    string contains = 3;           // Contains substring (SQL LIKE '%value%')
    string starts_with = 4;        // Starts with prefix (SQL LIKE 'value%')
    string ends_with = 5;          // Ends with suffix (SQL LIKE '%value')
    string like = 6;               // SQL LIKE pattern (% and _ wildcards)
    string not_like = 7;           // SQL NOT LIKE pattern
    string regex = 8;              // Regular expression match
    string not_regex = 9;          // Regular expression not match
    StringList in = 10;            // In list of values
    StringList not_in = 11;        // Not in list of values
    google.protobuf.Empty is_null = 12;     // IS NULL check
    google.protobuf.Empty is_not_null = 13; // IS NOT NULL check
  }
}

// StringList represents a list of string values
message StringList {
  repeated string values = 1;
}

// SortOrder defines the order of results
enum SortOrder {
  ASC = 0;
  DESC = 1;
}
