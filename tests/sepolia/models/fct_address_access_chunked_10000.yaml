model: fct_address_access_chunked_10000
network: sepolia
external_data:
    canonical_execution_storage_reads:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_storage_reads.parquet
        network_column: meta_network_name
    canonical_execution_storage_diffs:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_storage_diffs.parquet
        network_column: meta_network_name
    canonical_execution_balance_diffs:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_balance_diffs.parquet
        network_column: meta_network_name
    canonical_execution_balance_reads:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_balance_reads.parquet
        network_column: meta_network_name
    canonical_execution_contracts:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_contracts.parquet
        network_column: meta_network_name
    canonical_execution_nonce_reads:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_nonce_reads.parquet
        network_column: meta_network_name
    canonical_execution_nonce_diffs:
        url: https://data.ethpandaops.io/xatu-cbt/tests/sepolia/canonical_execution_nonce_diffs.parquet
        network_column: meta_network_name
assertions:
    - name: Expected size
      sql: |
        SELECT
          COUNT(*) AS count
        FROM
          fct_address_access_chunked_10000 FINAL
      expected:
        count: 1
    - name: Has been scheduled at least once
      sql: |
        SELECT
          COUNT(*) AS count
        FROM
          admin_cbt_scheduled FINAL
        WHERE
          table = 'fct_address_access_chunked_10000'
      expected:
        count: 1
